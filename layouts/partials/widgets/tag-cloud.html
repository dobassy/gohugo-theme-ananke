{{ $tagDisplayLimit := .Site.Params.widgets.tagCloud.limit | default 10 }}
{{ $showCount := false }}
{{ if eq .Type "archive" }}{{ $tagDisplayLimit = 9999 }}{{ $showCount = true }}{{ end }}
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
  <h4 class="f5 b mb3">{{ i18n "tagCloudTitle" }}</h4>
  <div class="tagcloud-tags">
    {{ range first $tagDisplayLimit .Site.Taxonomies.tags.ByCount }}
        <a href="{{ .Page.RelPermalink }}" class="mb2 mr2 pv1 ph3 br-pill no-underline font-size-{{ .Count }}">
            {{ .Page.Title }}
            {{ if $showCount }}
            <span class="tag-count f7">
              ({{ .Count }})
            </span>
            {{ end }}
        </a>
    {{ end }}
  </div>
</div>